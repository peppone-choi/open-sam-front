{
  "id": "replay-demo-001",
  "version": "1.0.0",
  "createdAt": 1733580000000,
  "metadata": {
    "title": "허창 공방전",
    "mapSize": { "width": 12, "height": 8 },
    "terrainType": "plains",
    "attackerFaction": "촉한",
    "defenderFaction": "위",
    "duration": 45000
  },
  "initialUnits": [
    {
      "id": "ally-1",
      "generalId": 1,
      "generalName": "관우",
      "position": { "x": 1, "y": 3 },
      "crew": 5000,
      "maxCrew": 5000,
      "crewType": 1300,
      "hp": 100,
      "maxHp": 100,
      "isEnemy": false,
      "morale": 90,
      "attack": 95,
      "defense": 85
    },
    {
      "id": "ally-2",
      "generalId": 2,
      "generalName": "장비",
      "position": { "x": 1, "y": 5 },
      "crew": 4500,
      "maxCrew": 5000,
      "crewType": 1100,
      "hp": 100,
      "maxHp": 100,
      "isEnemy": false,
      "morale": 85,
      "attack": 90,
      "defense": 80
    },
    {
      "id": "ally-3",
      "generalId": 3,
      "generalName": "조운",
      "position": { "x": 2, "y": 4 },
      "crew": 4000,
      "maxCrew": 4000,
      "crewType": 1301,
      "hp": 100,
      "maxHp": 100,
      "isEnemy": false,
      "morale": 95,
      "attack": 92,
      "defense": 88
    },
    {
      "id": "enemy-1",
      "generalId": 101,
      "generalName": "조조",
      "position": { "x": 10, "y": 3 },
      "crew": 6000,
      "maxCrew": 6000,
      "crewType": 1302,
      "hp": 100,
      "maxHp": 100,
      "isEnemy": true,
      "morale": 95,
      "attack": 88,
      "defense": 90
    },
    {
      "id": "enemy-2",
      "generalId": 102,
      "generalName": "하후돈",
      "position": { "x": 10, "y": 5 },
      "crew": 5000,
      "maxCrew": 5000,
      "crewType": 1100,
      "hp": 100,
      "maxHp": 100,
      "isEnemy": true,
      "morale": 90,
      "attack": 85,
      "defense": 82
    },
    {
      "id": "enemy-3",
      "generalId": 103,
      "generalName": "허저",
      "position": { "x": 9, "y": 4 },
      "crew": 4500,
      "maxCrew": 5000,
      "crewType": 1112,
      "hp": 100,
      "maxHp": 100,
      "isEnemy": true,
      "morale": 85,
      "attack": 92,
      "defense": 75
    }
  ],
  "turns": [
    {
      "turnNumber": 1,
      "phase": "player",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "move",
          "unitId": "ally-1",
          "timestamp": 1000,
          "from": { "x": 1, "y": 3 },
          "to": { "x": 4, "y": 3 }
        },
        {
          "type": "move",
          "unitId": "ally-2",
          "timestamp": 2500,
          "from": { "x": 1, "y": 5 },
          "to": { "x": 3, "y": 5 }
        },
        {
          "type": "move",
          "unitId": "ally-3",
          "timestamp": 4000,
          "from": { "x": 2, "y": 4 },
          "to": { "x": 5, "y": 4 }
        }
      ]
    },
    {
      "turnNumber": 1,
      "phase": "enemy",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "move",
          "unitId": "enemy-1",
          "timestamp": 6000,
          "from": { "x": 10, "y": 3 },
          "to": { "x": 7, "y": 3 }
        },
        {
          "type": "move",
          "unitId": "enemy-2",
          "timestamp": 7500,
          "from": { "x": 10, "y": 5 },
          "to": { "x": 8, "y": 5 }
        },
        {
          "type": "move",
          "unitId": "enemy-3",
          "timestamp": 9000,
          "from": { "x": 9, "y": 4 },
          "to": { "x": 6, "y": 4 }
        }
      ]
    },
    {
      "turnNumber": 2,
      "phase": "player",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "move",
          "unitId": "ally-1",
          "timestamp": 11000,
          "from": { "x": 4, "y": 3 },
          "to": { "x": 6, "y": 3 }
        },
        {
          "type": "attack",
          "unitId": "ally-1",
          "timestamp": 12500,
          "targetId": "enemy-1",
          "damage": 35,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 65,
          "targetCrewAfter": 4750,
          "targetDied": false
        },
        {
          "type": "attack",
          "unitId": "ally-3",
          "timestamp": 14000,
          "targetId": "enemy-3",
          "damage": 42,
          "isCritical": true,
          "isEvaded": false,
          "targetHpAfter": 58,
          "targetCrewAfter": 3400,
          "targetDied": false
        },
        {
          "type": "move",
          "unitId": "ally-2",
          "timestamp": 16000,
          "from": { "x": 3, "y": 5 },
          "to": { "x": 5, "y": 5 }
        }
      ]
    },
    {
      "turnNumber": 2,
      "phase": "enemy",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "attack",
          "unitId": "enemy-1",
          "timestamp": 18000,
          "targetId": "ally-1",
          "damage": 28,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 72,
          "targetCrewAfter": 4100,
          "targetDied": false
        },
        {
          "type": "attack",
          "unitId": "enemy-3",
          "timestamp": 20000,
          "targetId": "ally-3",
          "damage": 0,
          "isCritical": false,
          "isEvaded": true,
          "targetHpAfter": 100,
          "targetCrewAfter": 4000,
          "targetDied": false
        },
        {
          "type": "attack",
          "unitId": "enemy-2",
          "timestamp": 22000,
          "targetId": "ally-2",
          "damage": 25,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 75,
          "targetCrewAfter": 3700,
          "targetDied": false
        }
      ]
    },
    {
      "turnNumber": 3,
      "phase": "player",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "attack",
          "unitId": "ally-1",
          "timestamp": 24000,
          "targetId": "enemy-1",
          "damage": 55,
          "isCritical": true,
          "isEvaded": false,
          "targetHpAfter": 10,
          "targetCrewAfter": 2500,
          "targetDied": false
        },
        {
          "type": "attack",
          "unitId": "ally-3",
          "timestamp": 26000,
          "targetId": "enemy-3",
          "damage": 58,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 0,
          "targetCrewAfter": 0,
          "targetDied": true
        },
        {
          "type": "death",
          "unitId": "enemy-3",
          "timestamp": 26500
        },
        {
          "type": "move",
          "unitId": "ally-2",
          "timestamp": 28000,
          "from": { "x": 5, "y": 5 },
          "to": { "x": 7, "y": 5 }
        },
        {
          "type": "attack",
          "unitId": "ally-2",
          "timestamp": 29500,
          "targetId": "enemy-2",
          "damage": 38,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 62,
          "targetCrewAfter": 3200,
          "targetDied": false
        }
      ]
    },
    {
      "turnNumber": 3,
      "phase": "enemy",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "attack",
          "unitId": "enemy-1",
          "timestamp": 31000,
          "targetId": "ally-1",
          "damage": 22,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 50,
          "targetCrewAfter": 3200,
          "targetDied": false
        },
        {
          "type": "attack",
          "unitId": "enemy-2",
          "timestamp": 33000,
          "targetId": "ally-2",
          "damage": 30,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 45,
          "targetCrewAfter": 2800,
          "targetDied": false
        }
      ]
    },
    {
      "turnNumber": 4,
      "phase": "player",
      "unitSnapshot": [],
      "actions": [
        {
          "type": "attack",
          "unitId": "ally-1",
          "timestamp": 35000,
          "targetId": "enemy-1",
          "damage": 32,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 0,
          "targetCrewAfter": 0,
          "targetDied": true
        },
        {
          "type": "death",
          "unitId": "enemy-1",
          "timestamp": 35500
        },
        {
          "type": "attack",
          "unitId": "ally-3",
          "timestamp": 37500,
          "targetId": "enemy-2",
          "damage": 45,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 17,
          "targetCrewAfter": 1200,
          "targetDied": false
        },
        {
          "type": "attack",
          "unitId": "ally-2",
          "timestamp": 40000,
          "targetId": "enemy-2",
          "damage": 40,
          "isCritical": false,
          "isEvaded": false,
          "targetHpAfter": 0,
          "targetCrewAfter": 0,
          "targetDied": true
        },
        {
          "type": "death",
          "unitId": "enemy-2",
          "timestamp": 40500
        }
      ]
    }
  ],
  "result": {
    "winner": "player",
    "allyRemaining": 3,
    "enemyRemaining": 0,
    "allyKills": 3,
    "enemyKills": 0
  }
}









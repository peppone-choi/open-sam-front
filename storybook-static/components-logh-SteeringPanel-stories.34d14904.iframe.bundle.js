"use strict";(self.webpackChunkopen_sam_front=self.webpackChunkopen_sam_front||[]).push([[928],{"./src/components/logh/SteeringPanel.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CombatConfiguration:()=>CombatConfiguration,Default:()=>Default,HighPowerBeams:()=>HighPowerBeams,Interactive:()=>Interactive,OverloadWarning:()=>OverloadWarning,WarpJumpConfiguration:()=>WarpJumpConfiguration,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SteeringPanel_stories});var react=__webpack_require__("./node_modules/react/index.js");const SYSTEM_KEYS=["BEAM","GUN","SHIELD","ENGINE","WARP","SENSOR"],SYSTEM_LABELS={BEAM:"빔 무장",GUN:"포격 시스템",SHIELD:"방어막",ENGINE:"추진 기관",WARP:"워프 드라이브",SENSOR:"센서 어레이"},DEFAULT_DISTRIBUTION={BEAM:20,GUN:20,SHIELD:20,ENGINE:20,WARP:0,SENSOR:20};function SteeringPanel(){const[distribution,setDistribution]=(0,react.useState)(DEFAULT_DISTRIBUTION),total=Object.values(distribution).reduce((a,b)=>a+b,0),isOverload=total>100,isOptimal=100===total,isUnderUtilized=total<100;return React.createElement("div",{className:"bg-[#101520]/90 border border-[#1E90FF] p-4 w-48 rounded text-xs font-mono shadow-2xl backdrop-blur"},React.createElement("div",{className:"flex justify-between items-center mb-2 border-b border-[#333] pb-1"},React.createElement("span",{className:"text-[#1E90FF] font-bold"},"에너지 배분"),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-bold text-sm "+(isOptimal?"text-[#10B981]":isOverload?"text-red-500 animate-pulse":"text-[#FFA500]")},total,"/100%"))),React.createElement("div",{className:"mb-2 text-[10px] flex items-center justify-between"},React.createElement("span",{className:"italic "+(isOptimal?"text-[#10B981]":isOverload?"text-red-500":"text-[#9CA3AF]")},isOptimal&&"✓ 최적 배분",isOverload&&"⚠ 초과 - 자동 재분배됨",isUnderUtilized&&`• ${100-total}% 여유`),React.createElement("button",{onClick:()=>{setDistribution(DEFAULT_DISTRIBUTION)},className:"text-[#1E90FF] hover:text-[#4AA8FF] transition-colors text-[10px]",title:"기본값으로 재설정"},"초기화")),React.createElement("div",{className:"mb-3"},React.createElement("div",{className:"w-full h-2 bg-[#333] rounded overflow-hidden"},React.createElement("div",{className:"h-full transition-all duration-300 "+(100===total?"bg-[#10B981]":total>100?"bg-red-500 animate-pulse":"bg-[#FFA500]"),style:{width:`${Math.min(total,100)}%`}}))),React.createElement("div",{className:"space-y-3"},SYSTEM_KEYS.map(key=>React.createElement("div",{key,className:"flex flex-col gap-1"},React.createElement("div",{className:"flex justify-between text-[#9CA3AF]"},React.createElement("span",null,SYSTEM_LABELS[key]),React.createElement("span",null,distribution[key],"%")),React.createElement("input",{type:"range",min:"0",max:"100",value:distribution[key],onChange:e=>((key,newVal)=>{setDistribution(prev=>{const newDistribution={...prev,[key]:newVal},total=Object.values(newDistribution).reduce((a,b)=>a+b,0);if(total<=100)return newDistribution;const excess=total-100,otherKeys=SYSTEM_KEYS.filter(k=>k!==key),otherTotal=otherKeys.reduce((sum,k)=>sum+prev[k],0);if(0===otherTotal)return{...newDistribution,[key]:100};const adjustedDistribution={...newDistribution};let distributedExcess=0;const reductions={};otherKeys.forEach(k=>{const reduction=prev[k]/otherTotal*excess;reductions[k]=reduction,distributedExcess+=reduction});const roundingError=excess-distributedExcess;let errorAdjusted=!1;otherKeys.forEach(k=>{const reducedValue=prev[k]-reductions[k];errorAdjusted||0===roundingError?adjustedDistribution[k]=Math.max(0,Math.round(reducedValue)):reducedValue>0?(adjustedDistribution[k]=Math.max(0,Math.round(reducedValue-roundingError)),errorAdjusted=!0):adjustedDistribution[k]=0});const finalTotal=Object.values(adjustedDistribution).reduce((a,b)=>a+b,0);if(100!==finalTotal){const diff=finalTotal-100,maxKey=otherKeys.reduce((a,b)=>adjustedDistribution[a]>adjustedDistribution[b]?a:b);adjustedDistribution[maxKey]=Math.max(0,adjustedDistribution[maxKey]-diff)}return adjustedDistribution})})(key,parseInt(e.target.value)),className:"w-full h-1 bg-[#333] rounded-lg appearance-none cursor-pointer accent-[#1E90FF]"}),React.createElement("div",{className:"w-full h-1 bg-[#333] rounded overflow-hidden mt-0.5"},React.createElement("div",{className:"h-full "+(distribution[key]>80?"bg-red-500":"bg-[#1E90FF]"),style:{width:`${distribution[key]}%`}}))))))}const SteeringPanel_stories={title:"Logh/SteeringPanel",component:SteeringPanel,parameters:{layout:"centered",docs:{description:{component:"SteeringPanel allows players to distribute energy across 6 ship systems (BEAM, GUN, SHIELD, ENGINE, WARP, SENSOR). Total distribution can exceed 100% but will trigger an overload warning."}}},decorators:[Story=>react.createElement("div",{className:"bg-[#050510] p-8 min-h-[600px] flex items-center justify-center"},react.createElement(Story,null))]},Default={parameters:{docs:{description:{story:"Default balanced energy distribution (20% each for BEAM, GUN, SHIELD, ENGINE, SENSOR; 0% for WARP). Total: 100%"}}}},Interactive={parameters:{docs:{description:{story:"Interactive story - adjust sliders to test energy distribution. Watch for red overload warning when total exceeds 100%."}}},play:async({canvasElement})=>{console.log("Interact with sliders to test energy distribution limits")}},OverloadWarning={render:()=>{const SteeringPanelWrapper=()=>{const[mounted,setMounted]=react.useState(!1);return react.useEffect(()=>{setMounted(!0)},[]),react.useEffect(()=>{if(!mounted)return;const sliders=document.querySelectorAll('input[type="range"]');sliders.length>0&&(sliders[0].value="50",sliders[0].dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{sliders[1].value="50",sliders[1].dispatchEvent(new Event("input",{bubbles:!0}))},100),setTimeout(()=>{sliders[2].value="50",sliders[2].dispatchEvent(new Event("input",{bubbles:!0}))},200))},[mounted]),react.createElement(SteeringPanel,null)};return react.createElement(SteeringPanelWrapper,null)},parameters:{docs:{description:{story:"Demonstrates overload state when total energy distribution exceeds 100%. The total percentage turns red and pulses."}}}},HighPowerBeams={render:()=>{const SteeringPanelWrapper=()=>{const[mounted,setMounted]=react.useState(!1);return react.useEffect(()=>{setMounted(!0)},[]),react.useEffect(()=>{if(!mounted)return;const sliders=document.querySelectorAll('input[type="range"]');sliders.length>=1&&(sliders[0].value="80",sliders[0].dispatchEvent(new Event("input",{bubbles:!0})))},[mounted]),react.createElement(SteeringPanel,null)};return react.createElement(SteeringPanelWrapper,null)},parameters:{docs:{description:{story:"High power beam configuration (80%). Individual bars turn red when exceeding 80% threshold."}}}},WarpJumpConfiguration={render:()=>{const SteeringPanelWrapper=()=>{const[mounted,setMounted]=react.useState(!1);return react.useEffect(()=>{setMounted(!0)},[]),react.useEffect(()=>{if(!mounted)return;const sliders=document.querySelectorAll('input[type="range"]');sliders.length>=5&&(sliders[0].value="0",sliders[0].dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{sliders[1].value="0",sliders[1].dispatchEvent(new Event("input",{bubbles:!0}))},50),setTimeout(()=>{sliders[2].value="0",sliders[2].dispatchEvent(new Event("input",{bubbles:!0}))},100),setTimeout(()=>{sliders[3].value="30",sliders[3].dispatchEvent(new Event("input",{bubbles:!0}))},150),setTimeout(()=>{sliders[4].value="60",sliders[4].dispatchEvent(new Event("input",{bubbles:!0}))},200),setTimeout(()=>{sliders[5].value="10",sliders[5].dispatchEvent(new Event("input",{bubbles:!0}))},250))},[mounted]),react.createElement(SteeringPanel,null)};return react.createElement(SteeringPanelWrapper,null)},parameters:{docs:{description:{story:"Warp jump energy configuration: prioritize WARP (60%) and ENGINE (30%) for long-distance travel."}}}},CombatConfiguration={render:()=>{const SteeringPanelWrapper=()=>{const[mounted,setMounted]=react.useState(!1);return react.useEffect(()=>{setMounted(!0)},[]),react.useEffect(()=>{if(!mounted)return;const sliders=document.querySelectorAll('input[type="range"]');sliders.length>=6&&(sliders[0].value="35",sliders[0].dispatchEvent(new Event("input",{bubbles:!0})),setTimeout(()=>{sliders[1].value="35",sliders[1].dispatchEvent(new Event("input",{bubbles:!0}))},50),setTimeout(()=>{sliders[2].value="30",sliders[2].dispatchEvent(new Event("input",{bubbles:!0}))},100),setTimeout(()=>{sliders[3].value="0",sliders[3].dispatchEvent(new Event("input",{bubbles:!0}))},150),setTimeout(()=>{sliders[4].value="0",sliders[4].dispatchEvent(new Event("input",{bubbles:!0}))},200),setTimeout(()=>{sliders[5].value="0",sliders[5].dispatchEvent(new Event("input",{bubbles:!0}))},250))},[mounted]),react.createElement(SteeringPanel,null)};return react.createElement(SteeringPanelWrapper,null)},parameters:{docs:{description:{story:"Combat-focused energy distribution: maximize weapons (BEAM 35%, GUN 35%) and defense (SHIELD 30%)."}}}},__namedExportsOrder=["Default","Interactive","OverloadWarning","HighPowerBeams","WarpJumpConfiguration","CombatConfiguration"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  parameters: {\n    docs: {\n      description: {\n        story: 'Default balanced energy distribution (20% each for BEAM, GUN, SHIELD, ENGINE, SENSOR; 0% for WARP). Total: 100%'\n      }\n    }\n  }\n}",...Default.parameters?.docs?.source}}},Interactive.parameters={...Interactive.parameters,docs:{...Interactive.parameters?.docs,source:{originalSource:"{\n  parameters: {\n    docs: {\n      description: {\n        story: 'Interactive story - adjust sliders to test energy distribution. Watch for red overload warning when total exceeds 100%.'\n      }\n    }\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    // This story is meant for manual interaction testing\n    console.log('Interact with sliders to test energy distribution limits');\n  }\n}",...Interactive.parameters?.docs?.source}}},OverloadWarning.parameters={...OverloadWarning.parameters,docs:{...OverloadWarning.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const SteeringPanelWrapper = () => {\n      const [mounted, setMounted] = React.useState(false);\n      React.useEffect(() => {\n        setMounted(true);\n      }, []);\n      React.useEffect(() => {\n        if (!mounted) return;\n\n        // Programmatically set overload state after mount\n        const sliders = document.querySelectorAll('input[type=\"range\"]');\n        if (sliders.length > 0) {\n          // Set first 3 sliders to 50% to trigger overload (150% > 100%)\n          (sliders[0] as HTMLInputElement).value = '50';\n          (sliders[0] as HTMLInputElement).dispatchEvent(new Event('input', {\n            bubbles: true\n          }));\n          setTimeout(() => {\n            (sliders[1] as HTMLInputElement).value = '50';\n            (sliders[1] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 100);\n          setTimeout(() => {\n            (sliders[2] as HTMLInputElement).value = '50';\n            (sliders[2] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 200);\n        }\n      }, [mounted]);\n      return <SteeringPanel />;\n    };\n    return <SteeringPanelWrapper />;\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates overload state when total energy distribution exceeds 100%. The total percentage turns red and pulses.'\n      }\n    }\n  }\n}",...OverloadWarning.parameters?.docs?.source}}},HighPowerBeams.parameters={...HighPowerBeams.parameters,docs:{...HighPowerBeams.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const SteeringPanelWrapper = () => {\n      const [mounted, setMounted] = React.useState(false);\n      React.useEffect(() => {\n        setMounted(true);\n      }, []);\n      React.useEffect(() => {\n        if (!mounted) return;\n        const sliders = document.querySelectorAll('input[type=\"range\"]');\n        if (sliders.length >= 1) {\n          // Set BEAM to 80% (triggers red bar)\n          (sliders[0] as HTMLInputElement).value = '80';\n          (sliders[0] as HTMLInputElement).dispatchEvent(new Event('input', {\n            bubbles: true\n          }));\n        }\n      }, [mounted]);\n      return <SteeringPanel />;\n    };\n    return <SteeringPanelWrapper />;\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'High power beam configuration (80%). Individual bars turn red when exceeding 80% threshold.'\n      }\n    }\n  }\n}",...HighPowerBeams.parameters?.docs?.source}}},WarpJumpConfiguration.parameters={...WarpJumpConfiguration.parameters,docs:{...WarpJumpConfiguration.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const SteeringPanelWrapper = () => {\n      const [mounted, setMounted] = React.useState(false);\n      React.useEffect(() => {\n        setMounted(true);\n      }, []);\n      React.useEffect(() => {\n        if (!mounted) return;\n        const sliders = document.querySelectorAll('input[type=\"range\"]');\n        if (sliders.length >= 5) {\n          // Warp-focused config: WARP=60, ENGINE=30, SENSOR=10, others=0\n          (sliders[0] as HTMLInputElement).value = '0'; // BEAM\n          (sliders[0] as HTMLInputElement).dispatchEvent(new Event('input', {\n            bubbles: true\n          }));\n          setTimeout(() => {\n            (sliders[1] as HTMLInputElement).value = '0'; // GUN\n            (sliders[1] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 50);\n          setTimeout(() => {\n            (sliders[2] as HTMLInputElement).value = '0'; // SHIELD\n            (sliders[2] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 100);\n          setTimeout(() => {\n            (sliders[3] as HTMLInputElement).value = '30'; // ENGINE\n            (sliders[3] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 150);\n          setTimeout(() => {\n            (sliders[4] as HTMLInputElement).value = '60'; // WARP\n            (sliders[4] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 200);\n          setTimeout(() => {\n            (sliders[5] as HTMLInputElement).value = '10'; // SENSOR\n            (sliders[5] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 250);\n        }\n      }, [mounted]);\n      return <SteeringPanel />;\n    };\n    return <SteeringPanelWrapper />;\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Warp jump energy configuration: prioritize WARP (60%) and ENGINE (30%) for long-distance travel.'\n      }\n    }\n  }\n}",...WarpJumpConfiguration.parameters?.docs?.source}}},CombatConfiguration.parameters={...CombatConfiguration.parameters,docs:{...CombatConfiguration.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const SteeringPanelWrapper = () => {\n      const [mounted, setMounted] = React.useState(false);\n      React.useEffect(() => {\n        setMounted(true);\n      }, []);\n      React.useEffect(() => {\n        if (!mounted) return;\n        const sliders = document.querySelectorAll('input[type=\"range\"]');\n        if (sliders.length >= 6) {\n          // Combat config: BEAM=35, GUN=35, SHIELD=30, ENGINE=0, WARP=0, SENSOR=0\n          (sliders[0] as HTMLInputElement).value = '35'; // BEAM\n          (sliders[0] as HTMLInputElement).dispatchEvent(new Event('input', {\n            bubbles: true\n          }));\n          setTimeout(() => {\n            (sliders[1] as HTMLInputElement).value = '35'; // GUN\n            (sliders[1] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 50);\n          setTimeout(() => {\n            (sliders[2] as HTMLInputElement).value = '30'; // SHIELD\n            (sliders[2] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 100);\n          setTimeout(() => {\n            (sliders[3] as HTMLInputElement).value = '0'; // ENGINE\n            (sliders[3] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 150);\n          setTimeout(() => {\n            (sliders[4] as HTMLInputElement).value = '0'; // WARP\n            (sliders[4] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 200);\n          setTimeout(() => {\n            (sliders[5] as HTMLInputElement).value = '0'; // SENSOR\n            (sliders[5] as HTMLInputElement).dispatchEvent(new Event('input', {\n              bubbles: true\n            }));\n          }, 250);\n        }\n      }, [mounted]);\n      return <SteeringPanel />;\n    };\n    return <SteeringPanelWrapper />;\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Combat-focused energy distribution: maximize weapons (BEAM 35%, GUN 35%) and defense (SHIELD 30%).'\n      }\n    }\n  }\n}",...CombatConfiguration.parameters?.docs?.source}}}}}]);
/* city_base - 전역 클래스로 사용 (PHP 원본과 동일) */
:global(.city_base) {
    position: absolute !important;
    width: 40px !important;
    height: 30px !important;
    min-width: 40px !important;
    max-width: 40px !important;
    min-height: 30px !important;
    max-height: 30px !important;
    overflow: visible !important;
    display: block !important;
    /* z-index 없음 - stacking context를 자연스럽게 사용 */
    font-size: 0 !important;
    line-height: 1 !important;
    font-family: initial !important;
    color: initial !important;
    box-sizing: border-box !important;
    margin: 0 !important;
    padding: 0 !important;
    text-size-adjust: 100% !important;
    -webkit-font-smoothing: antialiased !important;
    contain: none !important;
    /* isolation 제거 - 도시명이 같은 stacking context에 있도록 */
    /* 전역 max-height 오버라이드 - globals.css의 html * { max-height: 1000000px; } 무시 */
    max-height: 30px !important;
    /* 전역 스타일 상속 완전 차단 */
}

/* city_bg - 국가 색상 배경 (원형 그라디언트) */
:global(.city_base .city_bg) {
    position: absolute;
    z-index: 1;
    pointer-events: none;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    box-sizing: border-box;
}

/* map_detail 레벨별 city_bg 크기 및 위치 - city_base(40x30)를 감싸도록 */
:global(.map_detail .city_base.city_level_1 .city_bg) {
    width: 40px;
    height: 30px;
    left: 0;
    top: 0;
}

:global(.map_detail .city_base.city_level_2 .city_bg),
:global(.map_detail .city_base.city_level_3 .city_bg),
:global(.map_detail .city_base.city_level_4 .city_bg),
:global(.map_detail .city_base.city_level_5 .city_bg),
:global(.map_detail .city_base.city_level_6 .city_bg),
:global(.map_detail .city_base.city_level_7 .city_bg),
:global(.map_detail .city_base.city_level_8 .city_bg),
:global(.map_detail .city_base.city_level_0 .city_bg),
:global(.map_detail .city_base.city_level_9 .city_bg),
:global(.map_detail .city_base.city_level_10 .city_bg) {
    width: 40px;
    height: 30px;
    left: 0;
    top: 0;
}

/* city_link */
:global(.city_base .city_link),
:global(.city_base .city_link:link),
:global(.city_base .city_link:visited),
:global(.city_base .city_link:hover),
:global(.city_base .city_link:active),
:global(.city_base .city_link:focus) {
    display: block;
    width: 100%;
    height: 100%;
    text-decoration: none !important;
    color: inherit !important;
    border-bottom: none !important;
    text-decoration-line: none !important;
    text-decoration-color: transparent !important;
    outline: none !important;
    position: static;
    z-index: 0;
}

/* city_link 내부 모든 요소의 링크 스타일 제거 */
:global(.city_base .city_link *),
:global(.city_base .city_link img),
:global(.city_base .city_link div),
:global(.city_base .city_link span) {
    text-decoration: none !important;
    border-bottom: none !important;
    text-decoration-line: none !important;
    text-decoration-color: transparent !important;
    outline: none !important;
}

/* city_img - 성 이미지 컨테이너 - 항상 40x30으로 고정 */
:global(.city_base .city_img) {
    position: absolute !important;
    z-index: 0 !important;
    display: block !important;
    visibility: visible !important;
    overflow: visible !important;
    box-sizing: border-box !important;
    width: 40px !important;
    height: 30px !important;
    left: 0 !important;
    top: 0 !important;
    min-width: 40px !important;
    max-width: 40px !important;
    min-height: 30px !important;
    max-height: 30px !important;
    contain: layout size style !important;
}

/* city_img 내부의 img 태그 - 부모 크기에 의존하지 않도록 제거 */
:global(.city_base .city_img img) {
    object-fit: contain;
    display: block;
    max-width: none !important;
    max-height: none !important;
    /* 인라인 스타일의 크기가 적용되도록 CSS 크기 제거 */
    /* PNG 이미지가 투명 배경을 가지고 있다면 city_bg가 보임 */
    background-color: transparent !important;
}

/* 레벨별 도시 아이콘 크기 규칙 제거 - city_img는 항상 40x30으로 고정 */
/* 내부 이미지와 배경색 레이어는 절대 위치로 배치되므로 컨테이너 크기는 고정 */

/* CSS로 그린 장식 제거 - 실제 아이콘 이미지 사용 */

/* city_filler */
:global(.city_base .city_filler) {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    background: transparent;
    z-index: 3;
}

/* my_city - 내 도시 표시 */
:global(.city_base .my_city) {
    animation: blink-my-city-d1 2s infinite;
}

@keyframes blink-my-city-d1 {
    0% {
        outline: solid 4px transparent;
    }
    50% {
        outline: solid 4px rgba(255, 0, 0, 1);
    }
    100% {
        outline: solid 4px transparent;
    }
}

/* city_flag - 이미지 사용 (PHP 원본과 동일) */
:global(.city_base .city_flag) {
    position: absolute;
    z-index: 4;
}

:global(.city_base .city_flag img) {
    width: 12px;
    height: 12px;
    display: block;
}

/* city_capital - 수도 표시 이미지 (PHP 원본과 동일) */
:global(.city_base .city_flag .city_capital) {
    position: absolute;
    top: -2px;
    right: -2px;
    z-index: 5;
}

:global(.city_base .city_flag .city_capital img) {
    width: 10px;
    height: 10px;
    display: block;
}

/* city_detail_name - 아이콘 오른쪽 아래에 배치 */
:global(.world_map .city_detail_name),
:global(.city_base .city_detail_name),
:global(.city_base .city_img .city_detail_name),
:global(.city_base .city_link .city_detail_name),
:global(span.city_detail_name) {
    background-color: rgba(0, 0, 0, 0.5) !important;
    font-family: Arial, sans-serif !important;
    font-size: 8px !important;
    font-weight: normal !important;
    position: absolute !important;
    white-space: nowrap !important;
    left: 40px !important;
    top: 20px !important;
    color: white !important;
    padding: 1px 3px !important;
    line-height: 1.2 !important;
    display: inline-block !important;
    max-width: 200px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    pointer-events: auto !important;
    z-index: 9999 !important;
    contain: layout style !important;
    text-transform: none !important;
    letter-spacing: normal !important;
    word-spacing: normal !important;
}

/* 도시명 숨기기 (hide_cityname 클래스가 있을 때) - PHP 원본과 동일 */
:global(.world_map.hide_cityname .city_detail_name),
:global(.world_map.hide_cityname .city_base .city_detail_name),
:global(.world_map.hide_cityname .city_base > .city_detail_name),
:global(.world_map.hide_cityname .city_base .city_img .city_detail_name),
:global(.world_map.hide_cityname .city_base .city_link .city_detail_name),
:global(.world_map.hide_cityname span.city_detail_name),
:global(.hide_cityname .city_detail_name),
:global(.hide_cityname .city_base .city_detail_name),
:global(.hide_cityname .city_base > .city_detail_name),
:global(.hide_cityname span.city_detail_name) {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* city_base div의 z-index - PHP 원본과 동일 (city_bg 제외 모든 div는 z-index 2) */
:global(.city_base div) {
    z-index: 2 !important;
}

/* city_bg는 예외 - z-index 1 유지 */
:global(.city_base .city_bg) {
    z-index: 1 !important;
}

/* city_state - 이미지 사용 (PHP 원본과 동일) */
:global(.city_base .city_state) {
    position: absolute;
    top: 5px;
    left: 0;
    z-index: 3;
}

:global(.city_base .city_state img) {
    width: 12px;
    height: 12px;
    display: block;
}

/* 레벨별 city_base 크기 - 모든 레벨 동일하게 40x30 */
:global(.city_base) {
    width: 40px;
    height: 30px;
}

/* 레벨별 city_base 크기 (명시적으로) */
:global(.city_base.city_level_1),
:global(.city_base.city_level_2),
:global(.city_base.city_level_3),
:global(.city_base.city_level_4),
:global(.city_base.city_level_5),
:global(.city_base.city_level_6),
:global(.city_base.city_level_7),
:global(.city_base.city_level_8),
:global(.city_base.city_level_9),
:global(.city_base.city_level_10) {
    width: 40px;
    height: 30px;
}


/* map_detail 레벨별 city_flag 위치 */
:global(.map_detail .city_base.city_level_1 .city_flag) {
    right: -8px;
    top: -4px;
}

:global(.map_detail .city_base.city_level_2 .city_flag) {
    right: -8px;
    top: -4px;
}

:global(.map_detail .city_base.city_level_3 .city_flag) {
    right: -8px;
    top: -4px;
}

:global(.map_detail .city_base.city_level_4 .city_flag) {
    right: -6px;
    top: -3px;
}

:global(.map_detail .city_base.city_level_5 .city_flag) {
    right: -6px;
    top: -4px;
}

:global(.map_detail .city_base.city_level_6 .city_flag) {
    right: -6px;
    top: -4px;
}

:global(.map_detail .city_base.city_level_7 .city_flag) {
    right: -6px;
    top: -4px;
}

:global(.map_detail .city_base.city_level_8 .city_flag) {
    right: -6px;
    top: -3px;
}

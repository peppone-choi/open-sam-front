# Frontend API Call Mapping

This document inventories every API or socket call made inside `open-sam-front` and maps each one to the backend handlers in Express/Node or the legacy PHP system.

## Summary
- SammoAPI calls: 124 total → 119 OK, 0 legacy, 5 missing
- Direct fetch overrides: 20 total → 13 OK, 0 static, 7 missing
- WebSocket events: 22 total → 20 OK, 1 partial, 1 missing

### Gaps & mismatches
    - `ChangeIcon` → `/api/gateway/change-icon` | used at open-sam-front/src/app/user-info/page.tsx:193 | status **Missing**
    - `DeleteIcon` → `/api/gateway/delete-icon` | used at open-sam-front/src/app/user-info/page.tsx:213 | status **Missing**
    - `DisallowThirdUse` → `/api/gateway/disallow-third-use` | used at open-sam-front/src/app/user-info/page.tsx:142 | status **Missing**
    - `ExpandLoginToken` → `/api/gateway/expand-login-token` | used at open-sam-front/src/app/user-info/page.tsx:124 | status **Missing**
    - `InstallFileInstall` → `/api/install/file-install` | used at open-sam-front/src/app/f_install/install/page.tsx:27; open-sam-front/src/app/f_install/install/page.tsx:51 | status **Missing**
    - `/terms.1.html` (fetch) | status **Missing** | used at open-sam-front/src/app/register/page.tsx:30
    - `/terms.2.html` (fetch) | status **Missing** | used at open-sam-front/src/app/register/page.tsx:31
    - `/api/user/upload-icon` (fetch) | status **Missing** | used at open-sam-front/src/app/user-info/icon/page.tsx:69
    - `/api/betting/get-betting-info` (SammoAPI.request) | status **Missing** | used at open-sam-front/src/app/[server]/info/betting/page.tsx:24
    - `/api/game/get-tournament-info` (SammoAPI.request) | status **Missing** | used at open-sam-front/src/app/[server]/info/tournament/page.tsx:27
    - `/api/nation/get-officer-info` (SammoAPI.request) | status **Missing** | used at open-sam-front/src/app/[server]/info/officer/page.tsx:96
    - `/api/game/get-inherit-point` (SammoAPI.request) | status **Missing** | used at open-sam-front/src/app/[server]/inherit/page.tsx:23
    - `battle:combat` (listen) | status **Partial match** | open-sam-front/src/hooks/useBattleCutscene.ts:16
    - `battle:turn_result` (listen) | status **Missing** | open-sam-front/src/hooks/useBattleCutscene.ts:57

## SammoAPI-based calls
| Method | HTTP | Endpoint | Frontend usage (examples) | Backend mapping | Status |
|---|---|---|---|---|---|
| AdminForceRehall | POST | `/api/admin/force-rehall` | open-sam-front/src/app/[server]/admin/force-rehall/page.tsx:57 | open-sam-backend/src/routes/admin.routes.ts:982; open-sam-backend/src/routes/admin.routes.ts:987 | OK (Node) |
| AdminGetDiplomacy | POST | `/api/admin/diplomacy` | open-sam-front/src/app/[server]/admin/diplomacy/page.tsx:32 | open-sam-backend/src/socket/nation.socket.ts:90; open-sam-backend/src/socket/nation.socket.ts:92 | OK (Node) |
| AdminGetErrorLog | POST | `/api/admin/error-log` | open-sam-front/src/app/admin/error-log/page.tsx:23 | open-sam-backend/src/routes/admin.routes.ts:189; open-sam-backend/src/routes/admin.routes.ts:194 | OK (Node) |
| AdminGetGameInfo | POST | `/api/admin/game-info` | open-sam-front/src/app/[server]/admin/game/page.tsx:114 | open-sam-backend/src/routes/admin.routes.ts:269; open-sam-backend/src/routes/admin.routes.ts:274 | OK (Node) |
| AdminGetGeneral | POST | `/api/admin/general` | open-sam-front/src/app/[server]/admin/general/page.tsx:25 | open-sam-backend/src/server.simple.ts:82; open-sam-backend/src/infrastructure/queue/command-queue.ts:8 | OK (Node) |
| AdminGetInfo | POST | `/api/admin/info` | open-sam-front/src/app/[server]/admin/info/page.tsx:26 | open-sam-backend/src/server.simple.ts:49; open-sam-backend/src/server.simple.ts:57 | OK (Node) |
| AdminGetMember | POST | `/api/admin/member` | open-sam-front/src/app/[server]/admin/member/page.tsx:23 | open-sam-backend/src/routes/nation.routes.ts:251; open-sam-backend/src/routes/gateway.routes.ts:257 | OK (Node) |
| AdminGetTimeControl | POST | `/api/admin/time-control` | open-sam-front/src/app/[server]/admin/time-control/page.tsx:25 | open-sam-backend/src/routes/admin.routes.ts:896; open-sam-backend/src/routes/admin.routes.ts:901 | OK (Node) |
| AdminGetUserList | POST | `/api/admin/userlist` | open-sam-front/src/app/admin/userlist/page.tsx:19 | open-sam-backend/src/routes/admin.routes.ts:100; open-sam-backend/src/routes/admin.routes.ts:107 | OK (Node) |
| AdminSessionCreate | POST | `/api/admin/session/create` | open-sam-front/src/app/admin/sessions/page.tsx:65 | open-sam-backend/src/common/engine/system-engine.ts:100; open-sam-backend/src/common/engine/system-engine.ts:123 | OK (Node) |
| AdminSessionList | GET | `/api/admin/session/list` | open-sam-front/src/app/admin/sessions/page.tsx:24 | open-sam-backend/src/handlers/exprHandlers.ts:293; open-sam-backend/src/handlers/exprHandlers.ts:294 | OK (Node) |
| AdminSessionReset | POST | `/api/admin/session/reset` | open-sam-front/src/app/admin/sessions/page.tsx:99 | open-sam-backend/src/commands/base/BaseCommand.ts:190; open-sam-backend/src/commands/base/BaseCommand.ts:201 | OK (Node) |
| AdminUpdateGame | POST | `/api/admin/update-game` | open-sam-front/src/app/[server]/admin/game/page.tsx:194 | open-sam-backend/src/routes/admin.routes.ts:337; open-sam-backend/src/routes/admin.routes.ts:342 | OK (Node) |
| AdminUpdateTimeControl | POST | `/api/admin/update-time-control` | open-sam-front/src/app/[server]/admin/time-control/page.tsx:55 | open-sam-backend/src/routes/admin.routes.ts:926; open-sam-backend/src/routes/admin.routes.ts:931 | OK (Node) |
| AdminUpdateUser | POST | `/api/admin/update-user` | open-sam-front/src/app/[server]/admin/member/page.tsx:37; open-sam-front/src/app/admin/userlist/page.tsx:35 | open-sam-backend/src/routes/admin.routes.ts:134; open-sam-backend/src/routes/admin.routes.ts:139 | OK (Node) |
| AuctionBidUniqueAuction | POST | `/api/auction/bid-unique-auction` | open-sam-front/src/app/[server]/auction/page.tsx:65 | open-sam-backend/src/__tests__/e2e/auction-system.test.ts:310; open-sam-backend/src/__tests__/e2e/auction-system.test.ts:317 | OK (Node) |
| AuctionGetUniqueItemAuctionList | POST | `/api/auction/get-unique-list` | open-sam-front/src/app/[server]/auction/page.tsx:30 | open-sam-backend/src/routes/auction.routes.ts:293; open-sam-backend/src/routes/alias.routes.ts:18 | OK (Node) |
| BettingBet | POST | `/api/betting/bet` | open-sam-front/src/app/[server]/betting/page.tsx:190 | open-sam-backend/src/server.simple.ts:88; open-sam-backend/src/server.ts:27 | OK (Node) |
| BettingGetBettingList | POST | `/api/betting/get-list` | open-sam-front/src/app/[server]/betting/page.tsx:98 | open-sam-backend/src/routes/alias.routes.ts:54; open-sam-backend/src/routes/alias.routes.ts:55 | OK (Node) |
| BidBuyRiceAuction | POST | `/api/auction/bid-buy-rice-auction` | open-sam-front/src/app/[server]/auction/page.tsx:72 | open-sam-backend/src/routes/auction.routes.ts:18; open-sam-backend/src/routes/auction.routes.ts:43 | OK (Node) |
| BidSellRiceAuction | POST | `/api/auction/bid-sell-rice-auction` | open-sam-front/src/app/[server]/auction/page.tsx:78 | open-sam-backend/src/routes/auction.routes.ts:54; open-sam-backend/src/routes/auction.routes.ts:76 | OK (Node) |
| ChangeIcon | POST | `/api/gateway/change-icon` | open-sam-front/src/app/user-info/page.tsx:193 | — | Missing |
| ChangePassword | POST | `/api/gateway/change-password` | open-sam-front/src/app/user-info/page.tsx:73; open-sam-front/src/app/user_info/password/page.tsx:79 | open-sam-backend/src/routes/gateway.routes.ts:275; open-sam-backend/src/routes/gateway.routes.ts:307 | OK (Node) |
| CheckInstallStatus | POST | `/api/install/status` | open-sam-front/src/app/install/page.tsx:20 | open-sam-backend/src/socket/game.socket.ts:39; open-sam-backend/src/socket/game.socket.ts:57 | OK (Node) |
| CommandGetReservedCommand | GET | `/api/command/get-reserved-command?${query.toString()}` | open-sam-front/src/components/game/PartialReservedCommand.tsx:134 | open-sam-backend/src/__tests__/e2e/command-system.test.ts:129; open-sam-backend/src/__tests__/e2e/command-system.test.ts:131 | OK (Node) |
| CommandReserveBulkCommand | POST | `/api/command/reserve-bulk-command` | open-sam-front/src/components/game/PartialReservedCommand.tsx:530 | open-sam-backend/src/routes/command.routes.ts:263; open-sam-backend/src/routes/command.routes.ts:343 | OK (Node) |
| CommandReserveCommand | POST | `/api/command/reserve-command?${query.toString()}` | open-sam-front/src/app/[server]/processing/[command]/CommandProcessingClient.tsx:350; open-sam-front/src/app/[server]/processing/page.tsx:53; +2 more | open-sam-backend/src/routes/command.routes.ts:347; open-sam-backend/src/routes/command.routes.ts:476 | OK (Node) |
| DeleteCommand | POST | `/api/command/delete-command` | open-sam-front/src/components/game/PartialReservedCommand.tsx:451 | open-sam-backend/src/__tests__/e2e/command-system.test.ts:209; open-sam-backend/src/__tests__/e2e/command-system.test.ts:223 | OK (Node) |
| DeleteIcon | POST | `/api/gateway/delete-icon` | open-sam-front/src/app/user-info/page.tsx:213 | — | Missing |
| DeleteMe | POST | `/api/gateway/delete-me` | open-sam-front/src/app/user-info/page.tsx:104; open-sam-front/src/app/user_info/delete/page.tsx:54 | open-sam-backend/src/routes/gateway.routes.ts:372; open-sam-backend/src/routes/gateway.routes.ts:400 | OK (Node) |
| DiplomacyProcess | POST | `/api/diplomacy/process` | open-sam-front/src/app/[server]/diplomacy/process/page.tsx:52 | open-sam-backend/src/common/services/cost.service.ts:64; open-sam-backend/src/engine/UniversalEngine.ts:168 | OK (Node) |
| DisallowThirdUse | POST | `/api/gateway/disallow-third-use` | open-sam-front/src/app/user-info/page.tsx:142 | — | Missing |
| ExpandLoginToken | POST | `/api/gateway/expand-login-token` | open-sam-front/src/app/user-info/page.tsx:124 | — | Missing |
| GeneralGetFrontInfo | GET | `/api/general/get-front-info?${query.toString()}` | open-sam-front/src/app/[server]/game/page.tsx:79; open-sam-front/src/app/[server]/info/me/page.tsx:33; +4 more | open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:83; open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:85 | OK (Node) |
| GetActiveResourceAuctionList | POST | `/api/auction/get-active-resource-list` | open-sam-front/src/app/[server]/auction/page.tsx:37 | open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:158; open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:160 | OK (Node) |
| GetBasicInfo | POST | `/api/game/basic-info` | open-sam-front/src/app/[server]/info/me/page.tsx:32; open-sam-front/src/components/game/ChiefReservedCommand.tsx:63 | open-sam-backend/src/routes/alias.routes.ts:86; open-sam-backend/src/routes/alias.routes.ts:87 | OK (Node) |
| GetBattleCenter | POST | `/api/battle/center` | open-sam-front/src/app/[server]/battle-center/page.tsx:24; open-sam-front/src/components/game/TacticalMapPanel.tsx:648 | open-sam-backend/src/services/chief/GetChiefCenter.service.ts:79; open-sam-backend/src/services/chief/GetChiefCenter.service.ts:103 | OK (Node) |
| GetBattleDetail | POST | `/api/battle/detail` | open-sam-front/src/app/[server]/battle/[battleId]/page.tsx:29 | open-sam-backend/src/models/general_record.model.ts:9; open-sam-backend/src/__tests__/e2e/battle-system.test.ts:158 | OK (Node) |
| GetBestGeneralList | POST | `/api/archive/best-general` | open-sam-front/src/app/[server]/archive/best-general/page.tsx:25 | open-sam-backend/src/services/global/GetGlobalMenu.service.ts:32; open-sam-backend/src/routes/archive.routes.ts:187 | OK (Node) |
| GetBettingDetail | GET | `/api/betting/get-betting-detail?${query.toString()}` | open-sam-front/src/app/[server]/betting/page.tsx:139; open-sam-front/src/app/[server]/nation/betting/page.tsx:123 | open-sam-backend/src/routes/betting.routes.ts:82; open-sam-backend/src/routes/betting.routes.ts:111 | OK (Node) |
| GetBettingInfo | POST | `/api/info/betting` | open-sam-front/src/app/[server]/info/betting/page.tsx:23 | open-sam-backend/src/daemon/session-persister.ts:31; open-sam-backend/src/server.ts:27 | OK (Node) |
| GetBoardArticles | POST | `/api/board/get-articles` | open-sam-front/src/app/[server]/board/community/page.tsx:45; open-sam-front/src/app/[server]/board/page.tsx:50; +4 more | open-sam-backend/src/routes/board.routes.ts:15; open-sam-backend/src/routes/board.routes.ts:106 | OK (Node) |
| GetChiefCenter | POST | `/api/chief/center` | open-sam-front/src/app/[server]/chief/page.tsx:30 | open-sam-backend/src/routes/battle.routes.ts:1319; open-sam-backend/src/routes/battle.routes.ts:1425 | OK (Node) |
| GetCityList | POST | `/api/game/city-list` | open-sam-front/src/app/[server]/info/city/page.tsx:25 | open-sam-backend/src/routes/alias.routes.ts:106; open-sam-backend/src/routes/alias.routes.ts:107 | OK (Node) |
| GetCommandData | POST | `/api/processing/command` | open-sam-front/src/app/[server]/processing/[command]/CommandProcessingClient.tsx:242 | open-sam-backend/src/socket/general.socket.ts:85; open-sam-backend/src/socket/general.socket.ts:87 | OK (Node) |
| GetCommandTable | GET | `/api/general/get-command-table?${query.toString()}` | open-sam-front/src/app/[server]/processing/page.tsx:30; open-sam-front/src/components/game/PartialReservedCommand.tsx:138 | open-sam-backend/src/routes/general.routes.ts:281; open-sam-backend/src/routes/general.routes.ts:387 | OK (Node) |
| GetContactList | GET | `/api/message/get-contact-list` | open-sam-front/src/components/game/MessagePanel.tsx:167 | open-sam-backend/src/__tests__/e2e/message-system.test.ts:305; open-sam-backend/src/__tests__/e2e/message-system.test.ts:307 | OK (Node) |
| GetCurrentCity | GET | `/api/game/current-city?${query.toString()}` | open-sam-front/src/app/[server]/info/current-city/page.tsx:80 | open-sam-backend/src/routes/game.routes.ts:1343; open-sam-backend/src/routes/game.routes.ts:1348 | OK (Node) |
| GetDiplomacyLetter | POST | `/api/diplomacy/get-letter` | open-sam-front/src/app/[server]/diplomacy/page.tsx:71; open-sam-front/src/app/[server]/diplomacy/process/page.tsx:32 | open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:172; open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:174 | OK (Node) |
| GetEmperiorDetail | POST | `/api/archive/emperior-detail` | open-sam-front/src/app/[server]/archive/emperior/[id]/page.tsx:28 | open-sam-backend/src/routes/archive.routes.ts:115; open-sam-backend/src/routes/archive.routes.ts:120 | OK (Node) |
| GetEmperiorList | POST | `/api/archive/emperior` | open-sam-front/src/app/[server]/archive/emperior/page.tsx:25 | open-sam-backend/src/services/global/GetGlobalMenu.service.ts:35; open-sam-backend/src/routes/archive.routes.ts:67 | OK (Node) |
| GetGenList | POST | `/api/archive/gen-list` | open-sam-front/src/app/[server]/archive/gen-list/page.tsx:25 | open-sam-backend/src/routes/archive.routes.ts:210; open-sam-backend/src/routes/archive.routes.ts:215 | OK (Node) |
| GetGeneralInfo | POST | `/api/info/general` | open-sam-front/src/app/[server]/info/general/page.tsx:26 | open-sam-backend/src/socket/nation.socket.ts:4; open-sam-backend/src/socket/nation.socket.ts:31 | OK (Node) |
| GetGeneralList | POST | `/api/nation/general-list` | open-sam-front/src/app/[server]/admin/force-rehall/page.tsx:29; open-sam-front/src/app/[server]/info/generals/page.tsx:39 | open-sam-backend/src/routes/nation.routes.ts:35; open-sam-backend/src/routes/nation.routes.ts:289 | OK (Node) |
| GetHallOfFame | POST | `/api/archive/hall-of-fame` | open-sam-front/src/app/[server]/archive/hall-of-fame/page.tsx:27 | open-sam-backend/src/routes/archive.routes.ts:13; open-sam-backend/src/routes/archive.routes.ts:29 | OK (Node) |
| GetHistory | POST | `/api/game/history` | open-sam-front/src/app/[server]/history/[yearMonth]/page.tsx:39; open-sam-front/src/app/[server]/history/page.tsx:37 | open-sam-backend/src/socket/socketManager.ts:261; open-sam-backend/src/socket/socketManager.ts:265 | OK (Node) |
| GetInstallConfig | POST | `/api/install/config` | open-sam-front/src/app/[server]/install/page.tsx:25 | open-sam-backend/src/server.ts:15; open-sam-backend/src/server.ts:51 | OK (Node) |
| GetJoinNations | POST | `/api/join/get-nations?${query.toString()}` | open-sam-front/src/app/[server]/join/page.tsx:128; open-sam-front/src/app/[server]/join/page.tsx:130 | open-sam-backend/src/routes/join.routes.ts:10; open-sam-backend/src/routes/join.routes.ts:29 | OK (Node) |
| GetKingdomList | POST | `/api/archive/kingdom-list` | open-sam-front/src/app/[server]/archive/kingdom-list/page.tsx:36 | open-sam-backend/src/services/global/GetGlobalMenu.service.ts:30; open-sam-backend/src/services/archive.service.ts:580 | OK (Node) |
| GetMyBossInfo | GET | `/api/general/get-boss-info` | open-sam-front/src/app/[server]/my-boss-info/page.tsx:27 | open-sam-backend/src/routes/general.routes.ts:818; open-sam-backend/src/routes/general.routes.ts:907 | OK (Node) |
| GetMyGenInfo | POST | `/api/game/my-gen-info` | open-sam-front/src/app/[server]/my-gen-info/page.tsx:27 | open-sam-backend/src/routes/game.routes.ts:1474; open-sam-backend/src/routes/game.routes.ts:1478 | OK (Node) |
| GetNPCControl | POST | `/api/npc/get-control` | open-sam-front/src/app/[server]/npc-control/page.tsx:57 | open-sam-backend/src/routes/npc.routes.ts:10; open-sam-backend/src/routes/npc.routes.ts:41 | OK (Node) |
| GetNPCList | POST | `/api/archive/npc-list` | open-sam-front/src/app/[server]/archive/npc-list/page.tsx:25 | open-sam-backend/src/services/global/GetGlobalMenu.service.ts:82; open-sam-backend/src/routes/archive.routes.ts:253 | OK (Node) |
| GetPhpScenarios | GET | `/api/scenarios/templates` | open-sam-front/src/app/[server]/admin/game/page.tsx:94; open-sam-front/src/app/admin/sessions/page.tsx:25 | open-sam-backend/src/services/battlemap/GenerateDefaultMaps.service.ts:10; open-sam-backend/src/services/battlemap/GenerateDefaultMaps.service.ts:18 | OK (Node) |
| GetSelectPool | GET | `/api/general/get-select-pool` | open-sam-front/src/app/[server]/select-general/page.tsx:25 | open-sam-backend/src/routes/general.routes.ts:974; open-sam-backend/src/routes/general.routes.ts:1000 | OK (Node) |
| GetServerStatus | POST | `/api/gateway/get-server-status` | open-sam-front/src/app/admin/page.tsx:25; open-sam-front/src/app/entrance/page.tsx:46; +1 more | open-sam-backend/src/routes/gateway.routes.ts:94; open-sam-backend/src/routes/gateway.routes.ts:125 | OK (Node) |
| GetTournament | POST | `/api/tournament/info` | open-sam-front/src/app/[server]/tournament/page.tsx:27 | open-sam-backend/src/server.simple.ts:49; open-sam-backend/src/server.simple.ts:57 | OK (Node) |
| GetTournamentBracket | POST | `/api/tournament/bracket` | open-sam-front/src/app/[server]/tournament/page.tsx:28 | open-sam-backend/src/services/tournament.service.ts:268; open-sam-backend/src/services/tournament.service.ts:270 | OK (Node) |
| GetTournamentCenter | POST | `/api/tournament/info` | open-sam-front/src/app/[server]/tournament-center/page.tsx:23 | open-sam-backend/src/server.simple.ts:49; open-sam-backend/src/server.simple.ts:57 | OK (Node) |
| GetTournamentInfo | POST | `/api/info/tournament` | open-sam-front/src/app/[server]/info/tournament/page.tsx:23; open-sam-front/src/app/[server]/info/tournament/page.tsx:25 | open-sam-backend/src/services/inheritaction/GetInheritPointList.service.ts:17; open-sam-backend/src/services/tournament/TournamentEngine.service.ts:6 | OK (Node) |
| GetTraffic | POST | `/api/archive/traffic` | open-sam-front/src/app/[server]/archive/traffic/page.tsx:23 | open-sam-backend/src/services/global/TrafficManager.service.ts:103; open-sam-backend/src/services/global/GetGlobalMenu.service.ts:81 | OK (Node) |
| GetUserInfo | POST | `/api/gateway/get-user-info` | open-sam-front/src/app/admin/page.tsx:26; open-sam-front/src/app/entrance/page.tsx:47; +5 more | open-sam-backend/src/routes/gateway.routes.ts:13; open-sam-backend/src/routes/gateway.routes.ts:53 | OK (Node) |
| GetWorldInfo | POST | `/api/world/info` | open-sam-front/src/app/[server]/world/page.tsx:48 | open-sam-backend/src/server.ts:36; open-sam-backend/src/server.ts:130 | OK (Node) |
| GlobalGetConst | GET | `/api/global/get-const` | open-sam-front/src/app/[server]/game/page.tsx:88; open-sam-front/src/utils/unitTypeMapping.ts:60 | open-sam-backend/src/routes/global.routes.ts:102; open-sam-backend/src/routes/global.routes.ts:110 | OK (Node) |
| GlobalGetMap | GET | `/api/global/get-map?${query.toString()}` | open-sam-front/src/app/[server]/game/page.tsx:86; open-sam-front/src/app/[server]/map/cached/page.tsx:23; +9 more | open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:59; open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:61 | OK (Node) |
| GlobalGetMenu | GET | `/api/global/get-global-menu?${query.toString()}` | open-sam-front/src/app/[server]/game/page.tsx:87 | open-sam-backend/src/routes/global.routes.ts:64; open-sam-backend/src/routes/global.routes.ts:81 | OK (Node) |
| GlobalGetNationList | GET | `/api/global/get-nation-list?${query.toString()}` | open-sam-front/src/app/[server]/diplomacy/page.tsx:42; open-sam-front/src/app/[server]/join/page.tsx:115; +1 more | open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:71; open-sam-backend/src/__tests__/e2e/game-play-flow.test.ts:73 | OK (Node) |
| InfoGetCity | POST | `/api/info/city` | open-sam-front/src/app/[server]/info/current-city/page.tsx:59 | open-sam-backend/src/const/GameUnitConst.ts:344; open-sam-backend/src/func/searchDistance.ts:1 | OK (Node) |
| InstallDB | POST | `/api/install/db` | open-sam-front/src/app/[server]/install/db/page.tsx:35 | open-sam-backend/src/server.simple.ts:6; open-sam-backend/src/server.simple.ts:35 | OK (Node) |
| InstallFileInstall | POST | `/api/install/file-install` | open-sam-front/src/app/f_install/install/page.tsx:27; open-sam-front/src/app/f_install/install/page.tsx:51 | — | Missing |
| InstallGame | POST | `/api/install/game` | open-sam-front/src/app/[server]/install/page.tsx:39 | open-sam-backend/src/daemon-unified.ts:141; open-sam-backend/src/daemon-unified.ts:145 | OK (Node) |
| JoinTournament | POST | `/api/tournament/apply` | open-sam-front/src/app/[server]/tournament/page.tsx:48 | open-sam-backend/src/handlers/exprHandlers.ts:110; open-sam-backend/src/handlers/exprHandlers.ts:459 | OK (Node) |
| LoginByID | POST | `/api/auth/login` | open-sam-front/src/app/page.tsx:138 | open-sam-backend/src/__tests__/e2e/battle-system.test.ts:39; open-sam-backend/src/__tests__/e2e/battle-system.test.ts:40 | OK (Node) |
| Logout | POST | `/api/gateway/logout` | open-sam-front/src/app/entrance/page.tsx:134 | open-sam-backend/src/routes/gateway.routes.ts:224; open-sam-backend/src/routes/gateway.routes.ts:244 | OK (Node) |
| MessageGetMessages | GET | `/api/message/get-messages?${queryParams.toString()}` | open-sam-front/src/components/game/MessagePanel.tsx:116 | open-sam-backend/src/__tests__/e2e/message-system.test.ts:275; open-sam-backend/src/__tests__/e2e/message-system.test.ts:277 | OK (Node) |
| MessageSendMessage | POST | `/api/message/send-message` | open-sam-front/src/components/game/MessagePanel.tsx:208 | open-sam-backend/src/__tests__/e2e/message-system.test.ts:65; open-sam-backend/src/__tests__/e2e/message-system.test.ts:67 | OK (Node) |
| MiscUploadImage | POST | `/api/misc/upload-image` | open-sam-front/src/app/[server]/join/page.tsx:86; open-sam-front/src/components/editor/TipTapEditor.tsx:63 | open-sam-backend/src/routes/misc.routes.ts:11; open-sam-backend/src/routes/misc.routes.ts:79 | OK (Node) |
| NationCommandGetReservedCommand | GET | `/api/nation-command/get-reserved-command?${query.toString()}` | open-sam-front/src/components/game/ChiefReservedCommand.tsx:61 | open-sam-backend/src/routes/command.routes.ts:9; open-sam-backend/src/routes/command.routes.ts:100 | OK (Node) |
| NationCommandPushCommand | POST | `/api/nation-command/push-command` | open-sam-front/src/components/game/ChiefReservedCommand.tsx:362 | open-sam-backend/src/__tests__/e2e/command-system.test.ts:44; open-sam-backend/src/__tests__/e2e/command-system.test.ts:46 | OK (Node) |
| NationCommandRepeatCommand | POST | `/api/nation-command/repeat-command` | open-sam-front/src/components/game/ChiefReservedCommand.tsx:328 | open-sam-backend/src/routes/command.routes.ts:204; open-sam-backend/src/routes/command.routes.ts:259 | OK (Node) |
| NationCommandReserveBulkCommand | POST | `/api/nation-command/reserve-bulk-command` | open-sam-front/src/components/game/ChiefReservedCommand.tsx:187 | open-sam-backend/src/__tests__/e2e/command-system.test.ts:318; open-sam-backend/src/__tests__/e2e/command-system.test.ts:320 | OK (Node) |
| NationCommandReserveCommand | POST | `/api/nation-command/reserve-command` | open-sam-front/src/app/[server]/processing/[command]/CommandProcessingClient.tsx:343; open-sam-front/src/components/game/ChiefReservedCommand.tsx:198 | open-sam-backend/src/routes/command.routes.ts:347; open-sam-backend/src/routes/command.routes.ts:476 | OK (Node) |
| NationGeneralList | POST | `/api/nation/general-list` | open-sam-front/src/app/[server]/troop/page.tsx:43 | open-sam-backend/src/routes/nation.routes.ts:35; open-sam-backend/src/routes/nation.routes.ts:289 | OK (Node) |
| NationGetBetting | POST | `/api/nation/betting` | open-sam-front/src/app/[server]/nation/betting/page.tsx:86 | open-sam-backend/src/services/inheritaction/GetInheritPointList.service.ts:18; open-sam-backend/src/controllers/betting.controller.ts:2 | OK (Node) |
| NationGetGenerals | POST | `/api/nation/generals` | open-sam-front/src/app/[server]/chief/ChiefPersonnelPanel.tsx:26; open-sam-front/src/app/[server]/nation/generals/page.tsx:23 | open-sam-backend/src/scenarios/sangokushi/scenario.ts:112; open-sam-backend/src/services/inheritaction/GetPrevCharList.service.ts:20 | OK (Node) |
| NationGetNationInfo | POST | `/api/nation/info` | open-sam-front/src/app/[server]/info/nation/page.tsx:27 | open-sam-backend/src/server.simple.ts:49; open-sam-backend/src/server.simple.ts:57 | OK (Node) |
| NationGetStratFinan | POST | `/api/nation/stratfinan` | open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:54 | open-sam-backend/src/routes/nation.routes.ts:2078; open-sam-backend/src/routes/nation.routes.ts:2107 | OK (Node) |
| NationSetBill | POST | `/api/nation/set-bill` | open-sam-front/src/app/[server]/chief/ChiefDomesticPanel.tsx:47; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:136 | open-sam-backend/src/routes/nation.routes.ts:755; open-sam-backend/src/routes/nation.routes.ts:887 | OK (Node) |
| NationSetBlockScout | POST | `/api/nation/set-block-scout` | open-sam-front/src/app/[server]/chief/ChiefDomesticPanel.tsx:92; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:179 | open-sam-backend/src/routes/nation.routes.ts:898; open-sam-backend/src/routes/nation.routes.ts:1029 | OK (Node) |
| NationSetBlockWar | POST | `/api/nation/set-block-war` | open-sam-front/src/app/[server]/chief/ChiefDomesticPanel.tsx:77; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:164 | open-sam-backend/src/routes/nation.routes.ts:1040; open-sam-backend/src/routes/nation.routes.ts:1185 | OK (Node) |
| NationSetNotice | POST | `/api/nation/set-notice` | open-sam-front/src/app/[server]/chief/ChiefDiplomacyPanel.tsx:28; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:82 | open-sam-backend/src/routes/nation.routes.ts:1196; open-sam-backend/src/routes/nation.routes.ts:1352 | OK (Node) |
| NationSetRate | POST | `/api/nation/set-rate` | open-sam-front/src/app/[server]/chief/ChiefDomesticPanel.tsx:32; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:122 | open-sam-backend/src/routes/nation.routes.ts:1363; open-sam-backend/src/routes/nation.routes.ts:1508 | OK (Node) |
| NationSetScoutMsg | POST | `/api/nation/set-scout-msg` | open-sam-front/src/app/[server]/chief/ChiefDiplomacyPanel.tsx:43; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:102 | open-sam-backend/src/routes/nation.routes.ts:1519; open-sam-backend/src/routes/nation.routes.ts:1678 | OK (Node) |
| NationSetSecretLimit | POST | `/api/nation/set-secret-limit` | open-sam-front/src/app/[server]/chief/ChiefDomesticPanel.tsx:62; open-sam-front/src/app/[server]/nation/stratfinan/page.tsx:150 | open-sam-backend/src/routes/nation.routes.ts:1689; open-sam-backend/src/routes/nation.routes.ts:1842 | OK (Node) |
| OAuthKakaoCallback | POST | `/api/oauth/kakao/callback` | open-sam-front/src/app/oauth/kakao/page.tsx:28 | open-sam-backend/src/phpRuntime.ts:382; open-sam-backend/src/phpRuntime.ts:385 | OK (Node) |
| OAuthKakaoJoin | POST | `/api/oauth/kakao/join` | open-sam-front/src/app/oauth/kakao/join/page.tsx:46 | open-sam-backend/src/socket/nation.socket.ts:60; open-sam-backend/src/socket/nation.socket.ts:92 | OK (Node) |
| PostBoardArticle | POST | `/api/board/post-article` | open-sam-front/src/app/[server]/board/community/page.tsx:67; open-sam-front/src/app/[server]/board/page.tsx:73; +2 more | open-sam-backend/src/routes/board.routes.ts:114; open-sam-backend/src/routes/board.routes.ts:183 | OK (Node) |
| PostBoardComment | POST | `/api/board/comment` | open-sam-front/src/app/[server]/board/page.tsx:101 | open-sam-backend/src/common/@types/role.types.ts:22; open-sam-backend/src/daemon/session-persister.ts:22 | OK (Node) |
| PullCommand | POST | `/api/command/pull-command` | open-sam-front/src/components/game/PartialReservedCommand.tsx:371 | open-sam-backend/src/routes/command.routes.ts:529; open-sam-backend/src/routes/command.routes.ts:556 | OK (Node) |
| PushCommand | POST | `/api/command/push-command` | open-sam-front/src/components/game/PartialReservedCommand.tsx:408 | open-sam-backend/src/routes/command.routes.ts:104; open-sam-backend/src/routes/command.routes.ts:199 | OK (Node) |
| Register | POST | `/api/auth/register` | open-sam-front/src/app/register/page.tsx:76 | open-sam-backend/src/common/engine/system-engine.ts:22; open-sam-backend/src/common/engine/system-engine.ts:52 | OK (Node) |
| RespondDiplomacyLetter | POST | `/api/diplomacy/respond-letter` | open-sam-front/src/app/[server]/diplomacy/page.tsx:256; open-sam-front/src/app/[server]/diplomacy/page.tsx:280 | open-sam-backend/src/routes/diplomacy.routes.ts:187; open-sam-backend/src/routes/diplomacy.routes.ts:212 | OK (Node) |
| SelectNPC | POST | `/api/general/select-npc` | open-sam-front/src/app/[server]/select-npc/page.tsx:130 | open-sam-backend/src/services/session.service.ts:46; open-sam-backend/src/server.ts:418 | OK (Node) |
| SelectPickedGeneral | POST | `/api/game/select-picked-general` | open-sam-front/src/app/[server]/select-general/page.tsx:44 | open-sam-backend/src/routes/alias.routes.ts:123; open-sam-backend/src/routes/alias.routes.ts:124 | OK (Node) |
| SendDiplomacyLetter | POST | `/api/diplomacy/send-letter` | open-sam-front/src/app/[server]/diplomacy/page.tsx:98 | open-sam-backend/src/routes/diplomacy.routes.ts:118; open-sam-backend/src/routes/diplomacy.routes.ts:180 | OK (Node) |
| SetMySetting | POST | `/api/game/set-my-setting` | open-sam-front/src/app/[server]/info/me/page.tsx:63 | open-sam-backend/src/routes/alias.routes.ts:129; open-sam-backend/src/routes/alias.routes.ts:130 | OK (Node) |
| SetNPCControl | POST | `/api/npc/set-control` | open-sam-front/src/app/[server]/npc-control/page.tsx:153; open-sam-front/src/app/[server]/npc-control/page.tsx:187 | open-sam-backend/src/routes/npc.routes.ts:52; open-sam-backend/src/routes/npc.routes.ts:85 | OK (Node) |
| SimulateBattle | POST | `/api/battle/simulate` | open-sam-front/src/app/[server]/battle-simulator/page.tsx:154 | open-sam-backend/src/__tests__/e2e/battle-system.test.ts:452; open-sam-backend/src/__tests__/e2e/battle-system.test.ts:454 | OK (Node) |
| TroopExitTroop | POST | `/api/troop/exit` | open-sam-front/src/app/[server]/troop/page.tsx:140 | open-sam-backend/src/handlers/exprHandlers.ts:697; open-sam-backend/src/handlers/exprHandlers.ts:698 | OK (Node) |
| TroopJoinTroop | POST | `/api/troop/join` | open-sam-front/src/app/[server]/troop/page.tsx:119 | open-sam-backend/src/socket/nation.socket.ts:60; open-sam-backend/src/socket/nation.socket.ts:92 | OK (Node) |
| TroopNewTroop | POST | `/api/troop/new` | open-sam-front/src/app/[server]/troop/page.tsx:100 | open-sam-backend/src/func/searchDistance.ts:7; open-sam-backend/src/func/searchDistance.ts:21 | OK (Node) |
| VoteGetVoteList | POST | `/api/vote/get-list` | open-sam-front/src/app/[server]/vote/page.tsx:24 | open-sam-backend/src/routes/vote.routes.ts:204; open-sam-backend/src/routes/betting.routes.ts:162 | OK (Node) |
| VoteVote | POST | `/api/vote/vote` | open-sam-front/src/app/[server]/vote/page.tsx:47 | open-sam-backend/src/services/global/GetGlobalMenu.service.ts:88; open-sam-backend/src/services/global/GetGlobalMenu.service.ts:90 | OK (Node) |
| request | GET | `(custom)` | open-sam-front/src/app/[server]/join/page.tsx:119 | open-sam-backend/src/core/ai-engine.ts:266; open-sam-backend/src/core/ai-engine.ts:295 | OK (Node) |

## Direct fetch & `SammoAPI.request` overrides
| URL | HTTP | Source | Frontend usage | Backend mapping | Status |
|---|---|---|---|---|---|
| `/terms.1.html` | GET | fetch | open-sam-front/src/app/register/page.tsx:30 | — | Missing |
| `/terms.2.html` | GET | fetch | open-sam-front/src/app/register/page.tsx:31 | — | Missing |
| `/api/user/upload-icon` | POST | fetch | open-sam-front/src/app/user-info/icon/page.tsx:69 | — | Missing |
| `/api/logh/my-commander` | GET | fetch | open-sam-front/src/app/logh/game/page.tsx:59 | open-sam-backend/src/routes/logh/commander.route.ts:14; open-sam-backend/src/routes/logh/commander.route.ts:17 | OK (Node) |
| `/api/logh/fleet/${commanderData.fleetId}` | GET | fetch | open-sam-front/src/app/logh/game/page.tsx:65 | open-sam-backend/src/server.ts:48; open-sam-backend/src/engine/handlers/logh/BuildFleetHandler.ts:115 | OK (Node) |
| `/api/logh/command/execute` | POST | fetch | open-sam-front/src/app/logh/game/page.tsx:78 | open-sam-backend/src/controllers/nationcommand.controller.ts:19; open-sam-backend/src/controllers/nationcommand.controller.ts:34 | OK (Node) |
| `/api/logh/my-commander` | GET | fetch | open-sam-front/src/app/logh/info/me/page.tsx:45 | open-sam-backend/src/routes/logh/commander.route.ts:14; open-sam-backend/src/routes/logh/commander.route.ts:17 | OK (Node) |
| `/api/join/get-nations?serverID=${serverID}` | GET | SammoAPI.request | open-sam-front/src/app/[server]/join/page.tsx:134 | open-sam-backend/src/routes/join.routes.ts:10; open-sam-backend/src/routes/join.routes.ts:29 | OK (Node) |
| `/api/join/create-general` | POST | SammoAPI.request | open-sam-front/src/app/[server]/join/page.tsx:615 | open-sam-backend/src/routes/join.routes.ts:66; open-sam-backend/src/routes/join.routes.ts:98 | OK (Node) |
| `/api/betting/get-betting-info` | POST | SammoAPI.request | open-sam-front/src/app/[server]/info/betting/page.tsx:24 | — | Missing |
| `/api/game/get-tournament-info` | POST | SammoAPI.request | open-sam-front/src/app/[server]/info/tournament/page.tsx:27 | — | Missing |
| `/api/nation/get-officer-info` | POST | SammoAPI.request | open-sam-front/src/app/[server]/info/officer/page.tsx:96 | — | Missing |
| `/api/game/get-inherit-point` | POST | SammoAPI.request | open-sam-front/src/app/[server]/inherit/page.tsx:23 | — | Missing |
| `/api/join/get-nations` | POST | SammoAPI.request | open-sam-front/src/app/[server]/select-npc/page.tsx:29 | open-sam-backend/src/routes/join.routes.ts:10; open-sam-backend/src/routes/join.routes.ts:29 | OK (Node) |
| `/api/general/get-select-npc-token` | POST | SammoAPI.request | open-sam-front/src/app/[server]/select-npc/page.tsx:82 | open-sam-backend/src/routes/general.routes.ts:1087; open-sam-backend/src/routes/general.routes.ts:1110 | OK (Node) |
| `/api/portraits/upload` | POST | fetch | open-sam-front/src/components/PortraitUploader.tsx:47 | open-sam-backend/src/controllers/misc.controller.ts:13; open-sam-backend/src/services/misc/UploadImage.service.ts:86 | OK (Node) |
| `/api/game/logs/general?sessionId=${serverID}&generalId=${generalId}&limit=100` | GET | fetch | open-sam-front/src/components/game/BattleLogPanel.tsx:44 | open-sam-backend/src/server.simple.ts:82; open-sam-backend/src/socket/nation.socket.ts:4 | OK (Node) |
| `/api/game/logs/global?sessionId=${serverID}&limit=100` | GET | fetch | open-sam-front/src/components/game/BattleLogPanel.tsx:62 | open-sam-backend/src/routes/oauth.routes.ts:113; open-sam-backend/src/scripts/fix-model-queries.sh:31 | OK (Node) |
| `/api/logh/tactical-maps/${tacticalMapId}?sessionId=${sessionId}` | GET | fetch | open-sam-front/src/components/logh/TacticalMap.tsx:75 | open-sam-backend/src/routes/logh.routes.ts:336; open-sam-backend/src/routes/logh.routes.ts:339 | OK (Node) |
| `/api/logh/map/grid?sessionId=${sessionId}` | GET | fetch | open-sam-front/src/components/logh/StrategicMap.tsx:67 | open-sam-backend/src/commands/logh/tactical/Sortie.ts:132; open-sam-backend/src/commands/logh/tactical/Sortie.ts:133 | OK (Node) |

## WebSocket events
| Event | Direction | Frontend usage | Backend mapping | Status |
|---|---|---|---|---|
| `battle:combat` | listen | open-sam-front/src/hooks/useBattleCutscene.ts:16 | open-sam-backend/src/commands/logh/tactical/Turn.ts:174; open-sam-backend/src/commands/logh/tactical/Turn.ts:175 | Partial match |
| `battle:command` | emit | open-sam-front/src/hooks/useBattleSocket.ts:104 | open-sam-backend/src/handlers/battle.socket.ts:35; open-sam-backend/src/handlers/battle.socket.ts:445 | OK (Node) |
| `battle:command_acknowledged` | listen | open-sam-front/src/hooks/useBattleSocket.ts:202 | open-sam-backend/src/handlers/battle.socket.ts:445 | OK (Node) |
| `battle:ended` | listen | open-sam-front/src/components/game/TacticalMapPanel.tsx:247; open-sam-front/src/hooks/useBattleSocket.ts:208 | open-sam-backend/src/socket/README.md:41; open-sam-backend/src/handlers/battle.socket.ts:276 | OK (Node) |
| `battle:error` | listen | open-sam-front/src/hooks/useBattleSocket.ts:216 | open-sam-backend/src/handlers/battle.socket.ts:50; open-sam-backend/src/handlers/battle.socket.ts:109 | OK (Node) |
| `battle:join` | emit | open-sam-front/src/hooks/useBattleSocket.ts:85 | open-sam-backend/src/socket/README.md:36; open-sam-backend/src/handlers/battle.socket.ts:18 | OK (Node) |
| `battle:joined` | listen | open-sam-front/src/hooks/useBattleSocket.ts:189 | open-sam-backend/src/handlers/battle.socket.ts:75 | OK (Node) |
| `battle:leave` | emit | open-sam-front/src/hooks/useBattleSocket.ts:120 | open-sam-backend/src/socket/README.md:37; open-sam-backend/src/handlers/battle.socket.ts:30 | OK (Node) |
| `battle:log` | listen | open-sam-front/src/components/game/TacticalMapPanel.tsx:248; open-sam-front/src/components/game/BattleLogPanel.tsx:106 | open-sam-backend/src/handlers/battle.socket.ts:473 | OK (Node) |
| `battle:player_joined` | listen | open-sam-front/src/hooks/useBattleSocket.ts:223 | open-sam-backend/src/handlers/battle.socket.ts:86 | OK (Node) |
| `battle:player_left` | listen | open-sam-front/src/hooks/useBattleSocket.ts:227 | open-sam-backend/src/handlers/battle.socket.ts:186 | OK (Node) |
| `battle:started` | listen | open-sam-front/src/components/game/TacticalMapPanel.tsx:245 | open-sam-backend/src/socket/socketManager.ts:249; open-sam-backend/src/socket/README.md:40 | OK (Node) |
| `battle:state` | listen | open-sam-front/src/components/game/TacticalMapPanel.tsx:246; open-sam-front/src/hooks/useBattleSocket.ts:197 | open-sam-backend/src/handlers/battle.socket.ts:460; open-sam-backend/src/services/battle/BattleSimulation.service.ts:395 | OK (Node) |
| `battle:turn_result` | listen | open-sam-front/src/hooks/useBattleCutscene.ts:57 | — | Missing |
| `combat:ended` | listen | open-sam-front/src/components/logh/TacticalMap.tsx:60 | open-sam-backend/src/services/logh/WebSocketHandler.service.ts:229 | OK (Node) |
| `fleet:move` | emit | open-sam-front/src/app/logh/game/page.tsx:248 | open-sam-backend/src/services/logh/WebSocketHandler.service.ts:51; open-sam-backend/src/services/logh/WebSocketHandler.service.ts:60 | OK (Node) |
| `fleet:tactical-move` | emit | open-sam-front/src/components/logh/TacticalMap.tsx:201 | open-sam-backend/src/services/logh/WebSocketHandler.service.ts:67; open-sam-backend/src/services/logh/WebSocketHandler.service.ts:77 | OK (Node) |
| `game:month:changed` | listen | open-sam-front/src/app/[server]/game/page.tsx:121 | open-sam-backend/src/socket/README.md:20 | OK (Node) |
| `game:state-update` | listen | open-sam-front/src/components/logh/TacticalMap.tsx:49; open-sam-front/src/components/logh/StrategicMap.tsx:54 | open-sam-backend/src/services/logh/WebSocketHandler.service.ts:199 | OK (Node) |
| `game:turn:complete` | listen | open-sam-front/src/hooks/useSocket.ts:273 | open-sam-backend/src/socket/README.md:21 | OK (Node) |
| `general:updated` | listen | open-sam-front/src/app/[server]/game/page.tsx:125 | open-sam-backend/src/socket/socketManager.ts:202; open-sam-backend/src/socket/README.md:26 | OK (Node) |
| `log:updated` | listen | open-sam-front/src/hooks/useSocket.ts:293 | open-sam-backend/src/socket/socketManager.ts:266 | OK (Node) |
